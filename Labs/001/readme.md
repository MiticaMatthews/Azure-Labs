![banner](https://github.com/user-attachments/assets/ef6e3b2a-e9c7-47d1-a39e-ec6d169e302b)

## What is Azure Virtual Machine?

## Requirements 
**Azure Account:** If you don't already have an Azure subscription, create a free account using the following link: https://azure.microsoft.com/en-gb/free/

## Create an Ubuntu Virtual Machine 
1. Sign in to the [Azure Portal](https://portal.azure.com/)
2. Navigate to the Virtual machines resource on the home page, or alternatively, enter *virtual machines* in the search bar.
<img width="1064" alt="virtual machines" src="https://github.com/user-attachments/assets/3ba2ebe5-fe7b-4e21-8ec5-ba29a9e7fed9">

3. In the **Virtual machines** page, select **Create** and then **Virtual machine**. The **Create a virtual machine** page should open.
<img width="1063" alt="create vm" src="https://github.com/user-attachments/assets/8393150b-3ede-4ff5-8292-8ca640281874">

4. In the **Basics** tab, under **Project details**, ensure you select the subscription that you wish to charge the cost of resources against. Then, either select an existing resource group or create a new one.
<img width="795" alt="project details" src="https://github.com/user-attachments/assets/0a9287cb-7d42-4791-a329-d248d676d17b">

5. Under **Instance details**, you will need to:
   * **Name Virtual Machine:**. It should be a globally unique name across the Azure network.
   * **Select Azure Region:** Select the geographical location where the virtual machine's resources will be physically hosted, such as **UK South, West US, etc.** Consider factors such as, region service availability and capacity, region proximity, and local compliance requirements when selecting a region.
   * **Select Availability Option:** You can use the default option or select an option for your individual or business needs. Since this virtual machine is just a demo, high availability and fault tolerance is not necessary. In this case, the *'No infrastructure redundancy required'* option offers a striaghtforward and cost effective option that demonstrates functionality.
   * **Select OS Image:** Choose the operating system you need for your virtual machine. I chose *Ubuntu Server 20.04 LTS - x64 Gen2*.
<img width="823" alt="instance details" src="https://github.com/user-attachments/assets/d577bac4-21fe-49c3-9296-8f2679b31a46">

6. **Select Size:** Select the size you need for your virtual machine. Since this is just a demo, I have opted for something small (Standard B1s, 1GB RAM) to minimise costs.
<img width="771" alt="vm size" src="https://github.com/user-attachments/assets/f86b1367-d9ca-4c27-9dfb-f46ec4cfdedf">

7. Under **Administrator account**, you will need to:
* **Select *SSH public key*** as your authentication type. I have opted to use SSH keys instead of passwords, as it is best practise for secure access.
* **Name Administrator:** Enter unique username.
* **SSH Public Key Source:** Leave the default option **Generate new key pair**.
* **Key Pair Name:** Leave autogenerated key pair name, or enter your own.
<img width="783" alt="adminacc" src="https://github.com/user-attachments/assets/3b21d350-0cdb-43dc-895b-a506430969d3">

8. Under **Inbound port rules**, choose **Allow selected ports**, and then select **SSH (22)**. I have chosen SSH (port 22) so I can securely access and manage the virtual machine via the command line.
<img width="767" alt="port rules" src="https://github.com/user-attachments/assets/8abed81e-23c6-458a-98ad-84e934c4df70">

9. Leave the remaining defaults and then select the **Review + create** button at the bottom of the page.
10. On the **Create a virtual machine** page, you should be able to see details about the virtual machine you are about to create. Review your settings and make any adjustments where necessary. When you are ready, select **Create**. Your virtual machine should be ready in seconds.
11. A **Generate new key pair** window will open. Select **Download private key and create resource**. Your key file will download with a  ***.pem*** extension. Remember where the ***.pem*** file was downloaded as you will need the file path in the next step.

12. When the deployment is complete, select **Go to resource**.
In the resource group, you will see a list of different resources created:
* Virtual machine
* Public IP address for the VM
* Network security group SSH (port 22)
* Virtual network
* Network interface
* SSH key
* Operating system disk
<img width="997" alt="resources" src="https://github.com/user-attachments/assets/83ea8bff-6c6f-4288-b5f6-31222c350b3f">

On the page for your new virtual machine, select the public IP address and copy it to the clipboard. 
<img width="1035" alt="vm created" src="https://github.com/user-attachments/assets/a991bf12-b8cd-4ca3-85e4-c1213822c33e">
   
## Connect to Virtual Machine
Create an **SSH connection** with the virtual machine. 

1. Open your terminal of choice.
2. If you are using Mac or Linux, run the following bash command to set a read-only permission on the ***.pem*** file using ```chmod 400 path/to/keyfile.pem ```. If you are using Windows machine, open a PowerShell prompt.
<img width="694" alt="permissions" src="https://github.com/user-attachments/assets/605b442f-650f-4a73-9651-b27ef89ea42d">

3. Next, open a SSH connection to the created virtual machine with the following syntax:
``` ssh -i /path/to/keyfile.pem <user name>@<IP address>```.

***Important:*** *The first time you attempt to log onto a Linux virtual machine, you may get a warning about adding the server fingerprint to a list of known hosts. In this case, I am okay with proceeding, so I select "yes".*
<img width="825" alt="connect vm" src="https://github.com/user-attachments/assets/d7a88966-6dc8-4409-8374-bdd04a665245">

## Delete Resources

When the virtual machine is no longer needed, you can delete the resource group, virtual machine and all related resources to avoid unecessary costs. To do this, you need to: 

1. Select the **Resource group** link on the Overview page for the virtual machine.
2. Select **Delete resource group** at the top of the page for the resource group.
3. A page will open with a warning that you are about to delete resources. Type the name of the resource group and select **Delete** to complete the deletion. 
